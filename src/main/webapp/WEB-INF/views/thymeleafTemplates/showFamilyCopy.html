
<!--<%@ page isELIgnored="false" %>-->
<!--<%@taglib uri ="http://www.springframework.org/tags" prefix="spring"%>-->
<!--<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %>-->
<!--<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>-->

<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    <link rel="stylesheet" href="/resources/static/css/style.css" th:href="@{/resources/static/css/style.css}" />

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          th:href="@{https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
          th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css}"
          rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
          crossorigin="anonymous" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
          th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css}"
          integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
          crossorigin="anonymous" />

    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/ui-lightness/jquery-ui.css"
          th:href="@{https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/ui-lightness/jquery-ui.css}"
          rel="stylesheet" />

    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>members Registration Form</title>
</head>
<body>

<div class="headingContainer">
    <p th:text="${message}"></p>
</div>

<div class="formContainer mt-3" >

    <form action="#" th:action="@{/save}" th:object="${wrapper}" method="post" enctype="multipart/form-data"  >

        <div class="table-responsive">

            <table class="table table-bordered " >

                <thead class="thead-dark">

                <tr>
                    <th>First Name</th>
                    <th>Middle Name</th>
                    <th>Last Name</th>
                    <th >Status</th>
                    <th >Relation With Head</th>
                    <th >Gender</th>
                    <th >DOB</th>
                    <th >Family Gotra</th>
                    <th >Age</th>
                    <th >Mother Gotra</th>
                    <th >Education</th>
                    <th >Occupation</th>
                    <th >Marital Status</th>
                    <th >Special Ability</th>
                    <th > Mobile Number</th>
                    <th>Image</th>

                </tr>

                </thead>
                <tbody id="tBody">

<!--                <% int rowNum = (int)request.getAttribute("rowNum");-->
<!--                    System.out.println("row Num :" + rowNum);-->

<!--                    for(int i = 0; i < rowNum; i++){-->

<!--                        pageContext.setAttribute("i" , i);-->

<!--                %>-->


                <tr th:each="person , iterStat : ${member}">

                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{member.get()}"
                                        type="text"
                                        class="form-control"
                                        placeholder="First Name"

                                         />


                        </div>
                    </td>

                            <%--                ---------------------------------------------------------------------------------------------%>

                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{middleName}"
                                        type="text"
                                        class="form-control"
                                        placeholder="Middle Name"

                            />



                        </div>
                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{member.get(iterStat).lastName}"
                                        type="text"
                                        class="form-control"
                                        placeholder="Last name"
                                        name="lastName"
                                        th:value="${family.member.get(iterStat).lastName}"

                            />

                        </div>
                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{member.get(iterStat).status}"
                                        type="text"
                                        class="form-control"
                                        placeholder="Status"
                                        name="status"
                                        th:value="${family.member.get(iterStat).status}"
                            />

                        </div>
                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{member.get(iterStat).relationWithHead}"
                                   type="text"
                                   class="form-control"
                                   placeholder="Relation with head"
                                   name="relationWithHead"
                                   th:value="${family.member.get(iterStat).relationWithHead}"
                            />

                        </div>

                        <div class="input-group input-group-md">

                            <select th:field="*{member.get(iterStat).gender}" class="form-select" name="gender">

                                <option value="">Gender...</option>
                                <option th:selected="${family.member.get(iterStat).gender}"></option>
                                <option value="Male"></option>
                                <option value="Female"></option>

                            </select>
                        </div>

                    </td>


                    <td>
                        <div class="input-group input-group-md" >
                            <input th:field="*{member.get(iterStat).DOB}"
                                        type="text"
                                        class="form-control dobSelect"
                                        placeholder="Date of Birth"
                                        name="DOB"
                                        th:value="${family.member.get(iterStat).DOB}"
                            />

                        </div>
                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">

                            <select th:field="*{member.get(iterStat).age}" class = "form-select" name="age" >
                                <option value="">Select Age</option>
                                <option th:each="age : ${rd.get('ageMap')}" th:value="${age}" th:text="${age}"></option>

                            </select>
                        </div>
                    </td>

                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{member.get(iterStat).familyGotra}"
                                        type="text"
                                        class="form-control"
                                        placeholder="Family Gotra"
                                        name="familyGotra"
                                        th:value="${family.member.get(iterStat).familyGotra}"
                            />

                        </div>
                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{member.get(iterStat).motherGotra}"
                                        type="text"
                                        class="form-control"
                                        placeholder="Mother Gotra"
                                        name="motherGotra"
                                        th:value="${family.member.get(iterStat).motherGotra}"
                            />

                        </div>

                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{member.get(iterStat).educationalStatus}"
                                        type="text"
                                        class="form-control"
                                        placeholder="Education"
                                        name="educationalStatus"
                                        th:value="${family.member.get(iterStat).educationalStatus}"

                            />

                        </div>
                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">
                            <input th:field="*{member.get(iterStat).occupation}"
                                        type="text"
                                        class="form-control"
                                        placeholder="Occupation"
                                        name="occupation"
                                        th:value="${family.member.get(iterStat).occupation}"
                            />

                        </div>
                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">

                            <select th:field="*{member.get(iterstat).maritalStatus}" class ="form-select" >

                                <option th:selected="${family.member.get(iterStat).maritalStatus}"></option>
                                <option value="Married"></option>
                                <option value="Unmarried"></option>

                            </select>
                        </div>

                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <td>
                        <div class="input-group input-group-md">


                            <select th:field="*{member.get(iterStat).specialAbility}" class = "form-select" >

                                <option th:selected="${family.member.get(iterStat).speciallyAble}"></option>
                                <option value="false">No</option>
                                <option value="true">Yes</option>

                                </select>
                        </div>

                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->
                    <!-- ----------------------------------------------------------------------------------- -->

                    <td>

                        <!-- Button trigger modal -->
                        <button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="modal" data-target="#NumberModal-${iterStat}">
                            Mobile Number
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" id="NumberModal-${i}" tabindex="-1" aria-labelledby="mobileModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="mobileModalLabel">Mobile Number</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">

<!-- ----------------------------------------------------------------------------------------------------------------------------------------------------------- -->
                                        <div class="input-group mb-3" id="0-div">

                                            <div class="input-group-prepend" id="0-selectTypeDiv">
                                                <select th:field="*{member.get(iterStat).mobileNumbers[0].type}"
                                                             class="form-select"
                                                             name="member.get(iterStat).mobileNumbers[0].type"
                                                             id="0-type" >

                                                    <option th:selected="${family.member.get(iterStat).mobileNumbers.get(0).type}"></option>
                                                    <option th:each=" i : ${rd.get('typeMap')}" th:value="${i}" th:text="${i}" ></option>
                                                </select>
                                            </div>

                                            <input th:field="*{member.get(iterStat).mobileNumbers[0].mobileNumber}"
                                                        type="text"
                                                        class="form-control"
                                                        placeholder="Mobile Number"
                                                        name="member.get(iterStat).mobileNumbers[0].mobileNumber"
                                                        th:value="${family.member.get(iterStat).mobileNumbers.get(0).mobileNumber}"
                                                        id="0-input"
                                            />


                                            <div class="input-group-append" id="0-selectPrimaryDiv">

                                                <select th:field="*{member.get(iterStat).mobileNumbers[0].primaryString}"
                                                             class="form-select"
                                                             name="members.get(iterStat).mobileNumbers[0].primaryString"
                                                             id="0-primaryString" >
                                                    <option th:selected="${family.member.get(iterStat).mobileNumbers.get(0).primary}"></option>
                                                    <option th:each=" i: ${rd.get('primaryMap')}" th:value="${i}" th:text="${i}"></option>

                                                </select>

                                            </div>
                                        </div>


<!-- ----------------------------------------------------------------------------------------------------------------------------------------------------------- -->


                                        <div class="input-group mb-3" id="1-div">
                                            <div class="input-group-prepend" id="1-selectTypeDiv">
                                                <select th:field="*{member.get(iterStat).mobileNumbers[1].type}"
                                                             class="form-select"
                                                             name="members.get(iterStat).mobileNumbers[1].type"
                                                             id="i-type"
                                                >
                                                    <option th:selected="${family.member.get(iterStat).mobileNumbers.get(1).type}" ></option>
                                                    <option th:each="i : ${rd.get('typeMap')}" th:value="${i}" th:text="${i}"></option>
                                                </select>
                                            </div>

                                            <input th:field="*{member.get(iterStat).mobileNumbers[1].mobileNumber}"
                                                   type="text"
                                                   class="form-control"
                                                   id="1-input"
                                                   placeholder="Mobile Number"
                                                   th:value="${family.member.get(iterStat).mobileNumbers.get(1).mobileNumber}"
                                            />

                                            <div class="input-group-append" id="1-selectPrimaryDiv">
                                                <select th:field="*{member.get(iterStat).mobileNumbers[1].primaryString}" class="form-select" id="1-PrimaryString">
                                                    <option th:selected="${family.member.get(iterStat).mobileNumbers.get(1).primary}"></option>
                                                    <option th:each=" i : ${rd.get('primaryMap')}" th:value="${i}" th:text="${i}"></option>
                                                </select>

                                            </div>
                                        </div>


<!-- ------------------------------------------------------------------------------------------------------------ -->


                                        <div class="input-group mb-3" id="2-div">

                                            <div class="input-group-prepend" id="2-selectTypeDiv">
                                                <select th:field="*{member.get(iterStat).mobileNumbers[2].type}" class="form-select" id="2-type" >

                                                    <option th:selected="${family.member.get(iterStat).mobileNumbers.get(2).type}" ></option>
                                                    <option th:each=" i : ${rd.get('typeMap')}" th:value="${i}" th:text="${i}" > </option>
                                                </select>
                                            </div>

                                            <input th:field="*{member.get(iterStat).mobileNumbers[2].mobileNumber}"
                                                        type="text"
                                                        class="form-control"
                                                        id="2-input"
                                                        placeholder="Mobile Number"
                                                        th:value="${family.member.get(iterStat).mobileNumbers.get(2).mobileNumber}"
                                            />

                                            <div class="input-group-append" id="2-selectPrimaryDiv">

                                                <select th:field="*{member.get(iterStat).mobileNumbers[2].primaryString}" class="form-select" id="2-primaryString">
                                                    <option th:selected="${family.member.get(iterStat).mobileNumbers.get(2).primary}"></option>
                                                    <option th:each=" i : ${rd.get('primaryMap')}" th:value="${i}" th:text="${i}"> </option>
                                                </select>

                                            </div>

                                        </div>
                                        <%-- -------------------------------------------------------------------------------------------  --%>

                                        <div class="input-group mb-3" id="3-div">

                                            <div class="input-group-prepend" id="3-selectTypeDiv">

                                                <select th:field="*{member.get(iterStat).mobileNumbers[3].type}" class="form-select" id="3-type" >
                                                    <option th:selected="${family.member.get(iterStat).mobileNumbers.get(3).type}"></option>
                                                    <option th:each=" i : ${rd.get('typeMap')}" th:value="${i}" th:text="${i}" ></option>
                                                </select>

                                            </div>


                                            <input th:field="*{member.get(iterStat).mobileNumbers[3].mobileNumber}"
                                                   type="text"
                                                   class="form-control"
                                                   placeholder="Mobile Number"
                                                   th:value="${family.member.get(iterStat).mobileNumbers.get(3).mobileNumber}"
                                                   id="3-input"
                                            />

                                            <div class="input-group-append"id="3-selectPrimaryDiv">

                                                <select path="member[${i}].mobileNumbers[3].primaryString" class="form-select" id="3-primaryString">

                                                    <option th:selected="${family.member.get(iterStat).mobileNumbers.get(3).primary}"></option>
                                                    <option th:each="i : ${rd.get('primaryMap')}" th:value="${i}" th:text="${i}" ></option>
                                                </select>

                                            </div>
                                        </div>

<!-- ----------------------------------------------------------------------------------------------------------------------------------------------------------- -->

                                    </div>


                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </td>
                    <!-- ----------------------------------------------------------------------------------- -->


                    <td>
                        <div class="mb-3">
                            <input th:field="*{member.get(iterStat).imageFile}"
                                   class="form-control form-control-sm"
                                   id="formFileSm" type="file" name="imgFile" />

                        </div>
                    </td>

                    <!-- ----------------------------------------------------------------------------------------------------------- -->

                </tr>

                </tbody>

            </table>

        </div>


        <div class="d-grid gap-2 mt-4">

            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#AddressModal">
                Address
            </button>
            <!-- Modal -->
            <div class="modal fade" id="AddressModal" tabindex="-1" aria-labelledby="AddressModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="AddressModalLabel">Add Addresses</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <div class="row pt-2 pb-2">

                                    <div class="col-md-6">
                                        <div class="kapil">
                                            <div class="palash">
                                                Address 1
                                            </div>
                                            <div class="row g-3">

                                                <div class="col-md-6" >
                                                    <label for="0-inputFirstName" class="form-label"> First Name</label>
                                                    <input th:field="*{addresses.get(0).firstName}"
                                                           type="text"
                                                           class="form-control"
                                                           id="0-inputFirstName"
                                                           placeholder="First Name"
                                                           th:value="${family.addresses.get(0).firstName}"
                                                    />
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="0-inputLastNameId" class="form-label">Last Name</label>
                                                    <input th:field="*{addresses.get(0).lastName}"
                                                           type="text"
                                                           class="form-control"
                                                           id="0-inputLastNameId"
                                                           placeholder="Last Name"
                                                           th:value="${family.addresses.get(0).lastName}"
                                                    />
                                                </div>

                                                <div class="col-12">
                                                    <label for="0-inputAddressId" class="form-label">Address 1</label>
                                                    <input th:field="*{addresses.get(0).address1}"
                                                           type="text"
                                                           class="form-control"
                                                           id="0-inputAddressId"
                                                           placeholder="1234 Main St"
                                                           th:value="${family.addresses.get(0).address1}"
                                                    />
                                                </div>

                                                <div class="col-12">
                                                    <label for="0-inputAddress2Id" class="form-label">Address 2</label>
                                                    <input th:field="*{addresses.get(0).address2}"
                                                           type="text" class="form-control" id="0-inputAddress2Id"
                                                           placeholder="Apartment, studio, or floor"
                                                           th:value="${family.addresses.get(0).address2}"
                                                    />
                                                </div>

                                                <div class="col-md-6">

                                                    <label for="0-inputCityId" class="form-label">City</label>
                                                    <input th:field="*{addresses.get(0).city}"
                                                           type="text"
                                                           class="form-control"
                                                           id="0-inputCityId"
                                                           placeholder = "City"
                                                           th:value="${family.addresses.get(0).city}"
                                                    />
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="0-inputDistrictId" class="form-label">District</label>
                                                    <select th:field="*{addresses.get(0).district}" id="0-inputDistrictId" class="form-select">
                                                        <option th:selected="${family.addresses.get(0).district}"></option>
                                                        <option th:each="i : ${rd.get('districtMap')}" th:value="${i}" th:text="${i}" ></option>
                                                    </select>
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="0-inputState" class="form-label">State</label>
                                                    <select th:field="*{addresses.get(0).state}" id="0-inputState" class="form-select">
                                                        <option th:selected="${family.addresses.get(0).state}"></option>
                                                        <options th:each="i : ${rd.get('stateMap')}" th:value="${i}" th:text="${i}" ></options>
                                                    </select>
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="0-inputZip" class="form-label">Zip</label>
                                                    <input th:field="${addresses.get(0).pinCode}"
                                                           type="text"
                                                           class="form-control"
                                                           id="0-inputZip"
                                                           placeholder="Zin/Pin Code"
                                                           th:value="${family.addresses.get(0).pinCode}"
                                                    />
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="0-inputCountry" class="form-label">Country</label>
                                                    <select th:field="*{addresses.get(0).state}" id="0-inputCountry" class="form-select">
                                                        <option th:selected="${family.addresses.get(0).state}"></option>
                                                        <options th:each="i : ${rd.get('countryMap')}" th:value="${i}" th:text="${i}" ></options>
                                                    </select>
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="0-inputTypeId" class="form-label">Type</label>
                                                    <select th:field="*{addresses.get(0).addressType}" class ="form-select" id="0-inputTypeId">

                                                        <option th:selected="${family.addresses.get(0).addressType}" ></option>
                                                        <option th:each="i : ${rd.get('addressTypeMap')}" ></option>
                                                    </select>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="kapil">
                                            <div class="palash">
                                                Address 2
                                            </div>
                                            <div class="row g-3">

                                                <div class="col-md-6" >
                                                    <label for="1-inputFirstName" class="form-label"> First Name</label>
                                                    <input th:field="*{addresses.get(1).firstName}"
                                                           type="text"
                                                           class="form-control"
                                                           id="1-inputFirstName"
                                                           placeholder="First Name"
                                                           th:value="${family.addresses.get(1).firstName}"
                                                    />
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="1-inputLastNameId" class="form-label">Last Name</label>
                                                    <input th:field="*{addresses.get(1).lastName}"
                                                           type="text"
                                                           class="form-control"
                                                           id="1-inputLastNameId"
                                                           placeholder="Last Name"
                                                           th:value="${family.addresses.get(1).lastName}"
                                                    />
                                                </div>

                                                <div class="col-12">
                                                    <label for="1-inputAddressId" class="form-label">Address 1</label>
                                                    <input th:field="*{addresses.get(1).address1}"
                                                           type="text"
                                                           class="form-control"
                                                           id="1-inputAddressId"
                                                           placeholder="1234 Main St"
                                                           th:value="${family.addresses.get(1).address1}"
                                                    />
                                                </div>

                                                <div class="col-12">
                                                    <label for="1-inputAddress2Id" class="form-label">Address 2</label>
                                                    <input th:field="*{addresses.get(1).address2}"
                                                           type="text" class="form-control" id="1-inputAddress2Id"
                                                           placeholder="Apartment, studio, or floor"
                                                           th:value="${family.addresses.get(1).address2}"
                                                    />
                                                </div>

                                                <div class="col-md-6">

                                                    <label for="1-inputCityId" class="form-label">City</label>
                                                    <input th:field="*{addresses.get(1).city}"
                                                           type="text"
                                                           class="form-control"
                                                           id="1-inputCityId"
                                                           placeholder = "City"
                                                           th:value="${family.addresses.get(1).city}"
                                                    />
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="1-inputDistrictId" class="form-label">District</label>
                                                    <select th:field="*{addresses.get(1).district}" id="1-inputDistrictId" class="form-select">
                                                        <option th:selected="${family.addresses.get(1).district}"></option>
                                                        <option th:each="i : ${rd.get('districtMap')}" th:value="${i}" th:text="${i}" ></option>
                                                    </select>
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="1-inputState" class="form-label">State</label>
                                                    <select th:field="*{addresses.get(1).state}" id="1-inputState" class="form-select">
                                                        <option th:selected="${family.addresses.get(1).state}"></option>
                                                        <options th:each="i : ${rd.get('stateMap')}" th:value="${i}" th:text="${i}" ></options>
                                                    </select>
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="1-inputZip" class="form-label">Zip</label>
                                                    <input th:field="${addresses.get(1).pinCode}"
                                                           type="text"
                                                           class="form-control"
                                                           id="1-inputZip"
                                                           placeholder="Zin/Pin Code"
                                                           th:value="${family.addresses.get(1).pinCode}"
                                                    />
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="1-inputCountry" class="form-label">Country</label>
                                                    <select th:field="*{addresses.get(1).state}" id="1-inputCountry" class="form-select">
                                                        <option th:selected="${family.addresses.get(1).state}"></option>
                                                        <options th:each="i : ${rd.get('countryMap')}" th:value="${i}" th:text="${i}" ></options>
                                                    </select>
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="1-inputTypeId" class="form-label">Type</label>
                                                    <select th:field="*{addresses[0].addressType}" class ="form-select" id="1-inputTypeId">

                                                        <option th:selected="${family.addresses.get(1).addressType}" ></option>
                                                        <option th:each="i : ${rd.get('addressTypeMap')}" ></option>
                                                    </select>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                    <div class="row pt-4 pb-4">

                                        <div class="col-md-6">
                                            <div class="kapil">
                                                <div class="palash">
                                                    Address 3
                                                </div>
                                                <div class="row g-3">

                                                    <div class="col-md-6" >
                                                        <label for="1-inputFirstName" class="form-label"> First Name</label>
                                                        <input th:field="*{addresses.get(2).firstName}"
                                                               type="text"
                                                               class="form-control"
                                                               id="2-inputFirstName"
                                                               placeholder="First Name"
                                                               th:value="${family.addresses.get(2).firstName}"
                                                        />
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="2-inputLastNameId" class="form-label">Last Name</label>
                                                        <input th:field="*{addresses.get(2).lastName}"
                                                               type="text"
                                                               class="form-control"
                                                               id="2-inputLastNameId"
                                                               placeholder="Last Name"
                                                               th:value="${family.addresses.get(2).lastName}"
                                                        />
                                                    </div>

                                                    <div class="col-12">
                                                        <label for="2-inputAddressId" class="form-label">Address 1</label>
                                                        <input th:field="*{addresses.get(2).address1}"
                                                               type="text"
                                                               class="form-control"
                                                               id="2-inputAddressId"
                                                               placeholder="1234 Main St"
                                                               th:value="${family.addresses.get(2).address1}"
                                                        />
                                                    </div>

                                                    <div class="col-12">
                                                        <label for="2-inputAddress2Id" class="form-label">Address 2</label>
                                                        <input th:field="*{addresses.get(2).address2}"
                                                               type="text" class="form-control" id="2-inputAddress2Id"
                                                               placeholder="Apartment, studio, or floor"
                                                               th:value="${family.addresses.get(2).address2}"
                                                        />
                                                    </div>

                                                    <div class="col-md-6">

                                                        <label for="2-inputCityId" class="form-label">City</label>
                                                        <input th:field="*{addresses.get(2).city}"
                                                               type="text"
                                                               class="form-control"
                                                               id="2-inputCityId"
                                                               placeholder = "City"
                                                               th:value="${family.addresses.get(2).city}"
                                                        />
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="2-inputDistrictId" class="form-label">District</label>
                                                        <select th:field="*{addresses.get(2).district}" id="2-inputDistrictId" class="form-select">
                                                            <option th:selected="${family.addresses.get(2).district}"></option>
                                                            <option th:each="i : ${rd.get('districtMap')}" th:value="${i}" th:text="${i}" ></option>
                                                        </select>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="2-inputState" class="form-label">State</label>
                                                        <select th:field="*{addresses.get(2).state}" id="2-inputState" class="form-select">
                                                            <option th:selected="${family.addresses.get(2).state}"></option>
                                                            <options th:each="i : ${rd.get('stateMap')}" th:value="${i}" th:text="${i}" ></options>
                                                        </select>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="2-inputZip" class="form-label">Zip</label>
                                                        <input th:field="${addresses.get(2).pinCode}"
                                                               type="text"
                                                               class="form-control"
                                                               id="2-inputZip"
                                                               placeholder="Zin/Pin Code"
                                                               th:value="${family.addresses.get(2).pinCode}"
                                                        />
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="2-inputCountry" class="form-label">Country</label>
                                                        <select th:field="*{addresses.get(2).state}" id="2-inputCountry" class="form-select">
                                                            <option th:selected="${family.addresses.get(2).state}"></option>
                                                            <options th:each="i : ${rd.get('countryMap')}" th:value="${i}" th:text="${i}" ></options>
                                                        </select>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="2-inputTypeId" class="form-label">Type</label>
                                                        <select th:field="*{addresses.get(2).addressType}" class ="form-select" id="2-inputTypeId">

                                                            <option th:selected="${family.addresses.get(2).addressType}" ></option>
                                                            <option th:each="i : ${rd.get('addressTypeMap')}" ></option>
                                                        </select>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>


                                        <div class="col-md-6">
                                            <div class="kapil">
                                                <div class="palash">
                                                    Address 4
                                                </div>
                                                <div class="row g-3">

                                                    <div class="col-md-6" >
                                                        <label for="1-inputFirstName" class="form-label"> First Name</label>
                                                        <input th:field="*{addresses.get(3).firstName}"
                                                               type="text"
                                                               class="form-control"
                                                               id="3-inputFirstName"
                                                               placeholder="First Name"
                                                               th:value="${family.addresses.get(3).firstName}"
                                                        />
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="3-inputLastNameId" class="form-label">Last Name</label>
                                                        <input th:field="*{addresses.get(3).lastName}"
                                                               type="text"
                                                               class="form-control"
                                                               id="3-inputLastNameId"
                                                               placeholder="Last Name"
                                                               th:value="${family.addresses.get(3).lastName}"
                                                        />
                                                    </div>

                                                    <div class="col-13">
                                                        <label for="3-inputAddressId" class="form-label">Address 1</label>
                                                        <input th:field="*{addresses.get(3).address1}"
                                                               type="text"
                                                               class="form-control"
                                                               id="3-inputAddressId"
                                                               placeholder="1234 Main St"
                                                               th:value="${family.addresses.get(3).address1}"
                                                        />
                                                    </div>

                                                    <div class="col-13">
                                                        <label for="3-inputAddressId" class="form-label">Address 2</label>
                                                        <input th:field="*{addresses.get(3).address2}"
                                                               type="text" class="form-control" id="3-inputAddress3Id"
                                                               placeholder="Apartment, studio, or floor"
                                                               th:value="${family.addresses.get(3).address2}"
                                                        />
                                                    </div>

                                                    <div class="col-md-6">

                                                        <label for="3-inputCityId" class="form-label">City</label>
                                                        <input th:field="*{addresses.get(3).city}"
                                                               type="text"
                                                               class="form-control"
                                                               id="3-inputCityId"
                                                               placeholder = "City"
                                                               th:value="${family.addresses.get(3).city}"
                                                        />
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="3-inputDistrictId" class="form-label">District</label>
                                                        <select th:field="*{addresses.get(3).district}" id="3-inputDistrictId" class="form-select">
                                                            <option th:selected="${family.addresses.get(3).district}"></option>
                                                            <option th:each="i : ${rd.get('districtMap')}" th:value="${i}" th:text="${i}" ></option>
                                                        </select>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="3-inputState" class="form-label">State</label>
                                                        <select th:field="*{addresses.get(3).state}" id="3-inputState" class="form-select">
                                                            <option th:selected="${family.addresses.get(3).state}"></option>
                                                            <options th:each="i : ${rd.get('stateMap')}" th:value="${i}" th:text="${i}" ></options>
                                                        </select>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="3-inputZip" class="form-label">Zip</label>
                                                        <input th:field="${addresses.get(3).pinCode}"
                                                               type="text"
                                                               class="form-control"
                                                               id="3-inputZip"
                                                               placeholder="Zin/Pin Code"
                                                               th:value="${family.addresses.get(3).pinCode}"
                                                        />
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="3-inputCountry" class="form-label">Country</label>
                                                        <select th:field="*{addresses.get(3).state}" id="3-inputCountry" class="form-select">
                                                            <option th:selected="${family.addresses.get(3).state}"></option>
                                                            <options th:each="i : ${rd.get('countryMap')}" th:value="${i}" th:text="${i}" ></options>
                                                        </select>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label for="3-inputTypeId" class="form-label">Type</label>
                                                        <select th:field="*{addresses.get(3).addressType}" class ="form-select" id="3-inputTypeId">

                                                            <option th:selected="${family.addresses.get(3).addressType}" ></option>
                                                            <option th:each="i : ${rd.get('addressTypeMap')}" ></option>
                                                        </select>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-lg btn-outline-secondary"  data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>



            <input type="submit" value="Submit Form" class="btn btn-outline-success mt-1">

        </div>



    </form>


</div>










<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>

<script src="/resources/static/js/row.js" ></script>
<script src="/resources/static/js/dobSelect.js"></script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>


</body>
</html>